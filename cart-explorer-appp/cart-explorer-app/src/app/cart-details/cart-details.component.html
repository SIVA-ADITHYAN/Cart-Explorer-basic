<div class="container" *ngIf="cart">
  <h1>Cart #{{ cart.id }}</h1>
  <div class="card">
    <div class="card-body">
      <h5 class="card-title">Products</h5>
      <ul class="list-group list-group-flush">
        @for (product of cart.products; track product.id) {
          <li class="list-group-item">
            <div class="d-flex justify-content-between">
              <span>{{ product.title }}</span>
              <span>{{ product.price | currency }}</span>
            </div>
            <div class="d-flex justify-content-between">
              <small class="text-muted">Discount: {{ product.discountPercentage | number:'1.0-0' }}%</small>
              <small class="text-success">Final Price: {{ product.price | discount:product.discountPercentage | currency }}</small>
            </div>
          </li>
        }
      </ul>
    </div>
    <div class="card-footer">
      <div class="d-flex justify-content-between">
        <strong>Total Products: {{ cart.totalProducts }}</strong>
        <strong>Total Quantity: {{ cart.totalQuantity }}</strong>
      </div>
      <div class="d-flex justify-content-between">
        <strong>Total: {{ cart.total | currency }}</strong>
        <strong class="text-danger">Discounted Total: {{ cart.discountedTotal | currency }}</strong>
      </div>
    </div>
  </div>
</div>
